# 典型回答

分库分表之后，会带来很多问题。

首先，做了分库分表之后，所有的读和写操作，都需要带着分表字段，这样才能知道具体去哪个库、哪张表中去查询数据。如果不带的话，就得支持全表扫描。

但是，单表的时候全表扫描比较容易，但是做了分库分表之后，就没办法做扫表的操作了，如果要扫表的话就要把所有的物理表都要扫一遍。

还有，一旦我们要从多个数据库中查询或者写入数据，就有很多事情都不能做了，比如**跨库事务就是不支持的。**

![image.png](https://cdn.nlark.com/yuque/0/2022/png/5378072/1672305434815-a75a8b9d-add0-46ca-b047-1073d2df0882.png#averageHue=%23fcfcfc&clientId=ucec2720e-7534-4&from=paste&height=654&id=DVvwE&originHeight=654&originWidth=1162&originalType=binary&ratio=1&rotation=0&showTitle=false&size=76282&status=done&style=none&taskId=u307e0def-d637-40f3-a44d-c8f45c92096&title=&width=1162)

所以，分库分表之后就会带来因为不支持事务而导致的数据一致性的问题。

[✅常见的分布式事务有哪些？](https://www.yuque.com/hollis666/fo22bm/yr0lu6?view=doc_embed)

其次，**做了分库分表之后，以前单表中很方便的分页查询、排序等等操作就都失效了。因为我们不能跨多表进行分页、排序。**<br />[✅分库分表后如何进行分页查询？](https://www.yuque.com/hollis666/fo22bm/znu3byuscn503ags?view=doc_embed)

除此之外，还有一些其他的问题，比如**二次分表的问题，一致性ID的问题**等等。

[✅分库分表后，表还不够怎么办？](https://www.yuque.com/hollis666/fo22bm/eczghpx140tsgtgv?view=doc_embed)

二次分表的问题可以用一致性哈希解决：<br />[什么是一致性哈希？](https://www.yuque.com/hollis666/fo22bm/hgx0twgg4t7nqg6v?view=doc_embed)

分布式ID可以参考：

[✅分布式ID生成方案都有哪些？](https://www.yuque.com/hollis666/fo22bm/cdfb2w?view=doc_embed)

