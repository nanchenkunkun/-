# 扩展知识

定时任务，是我们经常要用的，不管是Java中内置的，还是一些框架中的。但是想要实现一个定时任务，其实底层依赖的无非就是以下几种数据结构与算法：

**1、小顶堆**：我们可以使用小顶堆来管理定时事件，其中每个事件包含触发时间戳和要执行的任务信息。最紧要触发的任务一直处于堆的根部。通过小顶堆，可以高效地找到最近触发的定时事件，并在触发时执行相应的任务。

如Java中的Timer、DelayQueue等，都是基于小顶堆实现的。

[✅什么是小顶堆，可以用在哪些场景？](https://www.yuque.com/hollis666/fo22bm/ukua4c5v1sf2rk7c?view=doc_embed)

**2、时间轮算法**：时间轮算法是一种时间管理算法，可以高效地处理定时任务。它将时间划分成若干个时间槽，并使用循环队列来存储在每个时间槽上触发的任务，从而避免了遍历整个定时事件集合的开销。

如Netty中的HashedWheelTimer、Quartz Scheduler、Kafka中等都有时间轮算法的应用。

[什么是时间轮？](https://www.yuque.com/hollis666/fo22bm/vsrvc5hbu3falecp?view=doc_embed)

3、链表（用的比较少）：链表可以用于管理定时事件，每个节点包含触发时间戳和任务信息。链表中的节点按照触发时间戳从小到大排列，通过遍历链表，可以找到最近触发的定时事件并执行任务。
